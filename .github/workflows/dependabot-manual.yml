name: Manual Dependabot

on:
  workflow_dispatch:

jobs:
  trigger-updates:
    runs-on: ubuntu-latest
    steps:
      - name: Trigger Dependabot Update Check
        run: |
          # Using the explicit base URL and a PAT to avoid the 404 error
          gh api -X POST "${{ github.api_url }}/repos/${{ github.repository }}/dependabot/updates"
        env:
          # You MUST use a Personal Access Token (PAT) with 'repo' scope.
          # GITHUB_TOKEN does not have permission to trigger Dependabot.
          GH_TOKEN: ${{ secrets.DEPENDABOT_PAT }}
